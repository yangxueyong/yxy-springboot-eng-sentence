{"version":3,"file":"practice.js","sources":["pages/practice/practice.vue","pages/practice/practice.vue?type=page"],"sourcesContent":["<template>\r\n\t<view class=\"layoutCls\">\n\t\t<view class=\"changeCls\">\n\t\t\t<view class=\"changeBtnCls\" @click=\"randomLoad\"><uni-icons type=\"refreshempty\" size=\"20\"></uni-icons></view>\n\t\t\t<view class=\"changeBtnCls\" @click=\"getIndexEngUpMain\"><uni-icons type=\"back\" size=\"20\"></uni-icons></view>\n\t\t\t<view class=\"changeBtnCls\" @click=\"getIndexEngNextMain\"><uni-icons type=\"forward\" size=\"20\"></uni-icons></view>\n\t\t\t<view class=\"changeBtnCls\" @click=\"openSearch\"><uni-icons type=\"search\" size=\"20\"></uni-icons></view>\n\t\t</view>\n\t\t<view class=\"titleCls\">\n\t\t\t<view>{{mainData.enName}}</view>\n\t\t</view>\n\t\t<scroll-view class=\"scrollCls\" scroll-y=\"true\" scroll-x=\"false\"> \r\n\t\t\t<view class=\"contentCls\" v-for=\"item in datas\" :key=\"item.id\">\n\t\t\t\t<view class=\"zhCls\">{{item.znName}}</view>\n\t\t\t\t\n\t\t\t\t<view class=\"translationCls\">\n\t\t\t\t\t<view class=\"engCls\">\n\t\t\t\t\t\t<input class=\"uni-input\" placeholder=\"请输入英文\" v-model=\"item.myInput\" />\n\t\t\t\t\t</view> \n\t\t\t\t\t<view class=\"hidCls\">\n\t\t\t\t\t\t<uni-icons type=\"auth\" size=\"25\" @click=\"verify(item)\"></uni-icons>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"translationCls\">\n\t\t\t\t\t<view class=\"engCls\">\n\t\t\t\t\t\t<view class=\"textCls\" \n\t\t\t\t\t\t v-if=\"!item.hide\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t正确答案:{{item.enName}}\n\t\t\t\t\t\t</view> \n\t\t\t\t\t\t<view class=\"textCls\"\n\t\t\t\t\t\t v-if=\"item.hide\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t点击右侧'眼睛'显示答案\n\t\t\t\t\t\t</view> \n\t\t\t\t\t\t<view class=\"textCls\" >\n\t\t\t\t\t\t\t<rich-text :nodes=\"item.compareMyInput\"></rich-text>\n\t\t\t\t\t\t\t<!-- <mp-html :content=\"item.compareMyInput\" /> -->\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"hidCls\">\n\t\t\t\t\t\t<uni-icons size=\"25\" :type=\"item.hide?'eye-slash':'eye'\" @click=\"eye(item)\"></uni-icons> \n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</scroll-view>\n\t\t<search-bar\n\t\t@funSearchData=\"onFunSearchData\" \n\t\t@funSearchChangeItem=\"onFunSearchChangeItem\" \n\t\tref=\"mySearchBar\"></search-bar>\r\n\t</view>\r\n</template>\r\n\r\n<script setup> \n\timport {ref} from \"vue\";\n\timport {onReachBottom,onPullDownRefresh} from \"@dcloudio/uni-app\";\n\timport {getSystemWechatUserForward,repstr,highlightedText} from \"@/common/utils/common.js\";\n\timport {apiGetEngMain,\n\tapiOperData,\n\tapiGetEngWordByDetail,\n\tapiGetIndexEngNextMain,\n\tapiGetIndexEngUpMain,\n\tapiSearchEngMain,\n\tapiSearchChangeEngMain} from \"@/common/api/apis.js\";\n\timport {getDetailVoicePath,getWordVoicePath} from \"@/common/utils/request.js\";\n\t\t\n\tgetSystemWechatUserForward();\n\t\n\tconst mySearchBar = ref(null);\n\t\n\tconst mainData = ref({});\n\tconst datas=ref([{}]); \n\t\n\tconst getEngMain =async(loadType)=>{\n\t\tuni.showLoading({\n\t\t\ttitle:\"加载中...\"\n\t\t});\n\t\tlet res =await apiGetEngMain({ \n\t\t\tpageType:\"practice\",\n\t\t\tloadType\n\t\t}); \n\t\tconsole.log(\"获取到的主页数据->\",res);\n\t\tmainData.value = res.data;\n\t\tdatas.value = res.data.details;\n\t\tuni.stopPullDownRefresh();\n\t\tuni.hideLoading()\n\t}\n\tgetEngMain(\"\");\n\t\n\t// 随机加载\n\tfunction randomLoad(){\n\t\tgetEngMain(\"random\");\n\t}\n\t\n\t// 打开搜索框\n\tconst openSearch=async()=>{\n\t\t// searchPopup.value.open(); \n\t\tmySearchBar.value.open(); \n\t}\n\t\n\t//被组件调用\n\tconst onFunSearchData=async(e)=>{  \n\t\t let res =await apiSearchEngMain({\n\t\t \tsearchText:e\n\t\t });  \n\t\t mySearchBar.value.loadData(res.data);\n\t}\n\t\n\t//被组件调用\n\tconst onFunSearchChangeItem=async(e)=>{ \n\t\tconsole.log(\"页面得到了->\",e);\n\t\tmySearchBar.value.close(); \n\t\t let res =await apiSearchChangeEngMain({\n\t\t \tid:e,\n\t\t\tpageType:\"practice\"\n\t\t }); \n\t\t getEngMain(); \n\t}\n\t\n\tconst getIndexEngNextMain =async()=>{\n\t\tlet res =await apiGetIndexEngNextMain({ \n\t\t\t\"type\":\"next\",\n\t\t\tpageType:\"practice\"\n\t\t}); \n\t\tconsole.log(\"获取到的主页数据->\",res);\n\t\tmainData.value = res.data;\n\t\tdatas.value = res.data.details;\n\t\tuni.stopPullDownRefresh();\n\t\tuni.hideLoading()\n\t} \n\t\n\tconst getIndexEngUpMain=async()=>{\n\t\tlet res =await apiGetIndexEngUpMain({ \n\t\t\t\"type\":\"up\",\n\t\t\tpageType:\"practice\"\n\t\t}); \n\t\tconsole.log(\"获取到的主页数据->\",res);\n\t\tmainData.value = res.data;\n\t\tdatas.value = res.data.details;\n\t\tuni.stopPullDownRefresh();\n\t\tuni.hideLoading()\n\t} \n\t\n\n\t \n\tfunction verify(e){\n\t\tconst item = findItemById(e.id);\n\t\tconst enName = item.enName;\n\t\tconst myInput = item.myInput;\n\t\tif(!myInput){\n\t\t\tuni.showToast({\n\t\t\t\ttitle:\"请输入答案\",\n\t\t\t\ticon:\"error\"\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tconst newEnName = repstr(enName);\n\t\tconst newMyInput = repstr(myInput); \n\t\t\n\t\tconst htext =  highlightedText(newEnName, newMyInput);\n\t\titem.compareMyInput = \"你的答案:\" + htext;\n\t\tconsole.log(\"比较后的数据->\", htext);\n\t\t\n\t\titem.hide = false;\n\t\t\n\t\tif(newEnName == newMyInput){\n\t\t\tuni.showToast({\n\t\t\t\ttitle:\"恭喜，回答正确\"\n\t\t\t});\n\t\t}else{\n\t\t\tuni.showToast({\n\t\t\t\ttitle:\"回答错误\", \n\t\t\t\tduration: 800,\n\t\t\t\ticon:\"error\"\n\t\t\t});\n\t\t}\n\t}\n\t\n\tfunction findItemById(id) {\n\t    return datas.value.find(item => item.id === id);\n\t}\n\t  \n\t  function eye(e){\n\t\t  e.hide = !e.hide;\n\t  } \r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\n\t.diff-modified {\n\t  background-color: #ff0000; /* 黄色高亮修改的单词 */\n\t  font-weight: bold;\n\t  color: #fff;\n\t}\n\t.diff-added {\n\t  background-color: #ffeb3b; /* 绿色高亮新增的单词 */\n\t  font-weight: bold;\n\t}\n\t\r\n\t .layoutCls{\n\t\twidth: 100%; \n\t\tbox-sizing: border-box; \n\t\t.changeCls{ \n\t\t\tposition: fixed;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: right;\n\t\t\talign-items: right;\n\t\t\tpadding: 20rpx; \n\t\t\tright: 0;   \n\t\t\tz-index: 10; \n\t\t\tmargin-top: 50rpx;\n\t\t\t.changeBtnCls{ \n\t\t\t\tdisplay: inline-block; \n\t\t\t\tbackground: rgba(0, 0, 0, 0.2); \n\t\t\t\tdisplay: flex;\n\t\t\t\tpadding: 17rpx 20rpx;\n\t\t\t\tmargin-left: 20rpx;\n\t\t\t\tjustify-content: center;\n\t\t\t\talign-items: center;\n\t\t\t\tborder-radius: 50rpx;\n\t\t\t}\n\t\t}\n\t\t.titleCls{\n\t\t\t font-size: 35rpx;\n\t\t\t box-shadow: 0 0 30rpx rgba(0,0,0,0.05);\n\t\t\t left:0;\n\t\t\t top:0;\n\t\t\t display: flex;\n\t\t\t justify-content: left;\n\t\t\t align-items: center;\n\t\t\t padding-left: 30rpx;\n\t\t\t padding: 15rpx;\n\t\t\t // background-color: #ff9966;\n\t\t\t margin: 20rpx; \n\t\t\t color: #082567;\n\t\t\t background:\n\t\t\t \t\tlinear-gradient(to bottom,transparent,#fff 400rpx),\n\t\t\t \t\tlinear-gradient(to right,#beecd8 20%,#F4E2D8);\n\t\t }\n\t\t .scrollCls{  \n\t\t\tmargin-top: 20rpx;\n\t\t\twidth: 100%; \n\t\t\tpadding: 10rpx; \n\t\t\tbox-sizing: border-box; \n\t\t\t.contentCls{ \n\t\t\t\tmargin-bottom: 20rpx; \n\t\t\t\tbackground: #f3f7f8; \n\t\t\t\tborder-radius: 20rpx;\n\t\t\t\tpadding: 10rpx;\n\t\t\t\t.zhCls{\n\t\t\t\t\tfont-size: 25rpx;\n\t\t\t\t\tpadding: 10rpx;\n\t\t\t\t\tborder-bottom: 1px solid #ebf1f3;\n\t\t\t\t}\n\t\t\t\t.translationCls{\n\t\t\t\t\tdisplay: flex;\n\t\t\t\t\tposition: relative;\n\t\t\t\t\tbox-sizing: border-box; \n\t\t\t\t\t.engCls{\n\t\t\t\t\t\tflex: 1;\n\t\t\t\t\t\twidth: 0; \n\t\t\t\t\t\tpadding: 10rpx;\n\t\t\t\t\t\tbox-sizing: border-box; \n\t\t\t\t\t\tfont-size: 25rpx;\n\t\t\t\t\t\t.textCls{\n\t\t\t\t\t\t\tpadding: 5rpx 10rpx 5rpx 10rpx;\n\t\t\t\t\t\t\t// min-height: 50rpx;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinput{\n\t\t\t\t\t\t\tpadding: 2px 5px;\n\t\t\t\t\t\t\tborder: 1px solid #e0e0e0;\n\t\t\t\t\t\t\tborder-radius: 4px;\n\t\t\t\t\t\t\tbackground-color: #f3f7f8;\n\t\t\t\t\t\t\ttransition: all 0.3s ease;\n\t\t\t\t\t\t\toutline: none;  \n\t\t\t\t\t\t}\n\t\t\t\t\t\tinput:hover {\n\t\t\t\t\t\t  background-color: #f5f5f5;\n\t\t\t\t\t\t  border-color: #d0d0d0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tinput:focus {\n\t\t\t\t\t\t  background-color: #fff;\n\t\t\t\t\t\t  border-color: #a0c4ff;\n\t\t\t\t\t\t  box-shadow: 0 0 0 2px rgba(160, 196, 255, 0.2);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t.hidCls{\n\t\t\t\t\t\twidth: 50rpx;\t\n\t\t\t\t\t\tdisplay: flex;\n\t\t\t\t\t\t// position: absolute; \n\t\t\t\t\t\tjustify-content: center;\n\t\t\t\t\t\talign-items: center;\n\t\t\t\t\t\tright: 0;\n\t\t\t\t\t\t:deep(){\n\t\t\t\t\t\t\t.uni-icons{\n\t\t\t\t\t\t\t\tcolor:$brand-theme-color !important;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\t\n\t\t\t\t\t}\n\t\t\t\t }\n\t\t\t }\n\t\t\t\n\t\t }\n\t\t\n\t }\n\t \n\t \r\n</style>\n","import MiniProgramPage from '/Users/yxy/work/java/demo/yxy-springboot-eng-sentence/yxy-springboot-eng-sentence/my-eng/pages/practice/practice.vue'\nwx.createPage(MiniProgramPage)"],"names":["getSystemWechatUserForward","ref","uni","apiGetEngMain","apiSearchEngMain","apiSearchChangeEngMain","apiGetIndexEngNextMain","apiGetIndexEngUpMain","repstr","highlightedText"],"mappings":"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"}