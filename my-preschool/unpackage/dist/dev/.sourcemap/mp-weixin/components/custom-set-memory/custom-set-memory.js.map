{"version":3,"file":"custom-set-memory.js","sources":["components/custom-set-memory/custom-set-memory.vue","/Users/yxy/work/前端/uniapp/my-preschool/components/custom-set-memory/custom-set-memory.vue?type=component"],"sourcesContent":["<template>\n\t<scroll-view class=\"customMumPopup\" scroll-y=\"true\">\n\t\t<view class=\"uni-common-mt\">\n\t\t\t<view class=\"uni-form-item uni-column\" v-if=\"showNum\">\n\t\t\t\t<view class=\"title\">首关的数字</view>\n\t\t\t\t<input class=\"uni-input\" type=\"number\" v-model=\"iptBeginNumValue\" maxlength=\"2\" placeholder=\"请输入首关的数字\" />\n\t\t\t</view>\n\t\t\t<view class=\"uni-form-item uni-column\">\n\t\t\t\t<view class=\"title\">首关的块数</view>\n\t\t\t\t<input class=\"uni-input\" type=\"number\" v-model=\"iptBeginBlockValue\" maxlength=\"2\" placeholder=\"请输入首关出现的块数\" />\n\t\t\t</view>\n\t\t\t<view class=\"uni-form-item uni-column\">\n\t\t\t\t<view class=\"title\">总关卡</view>\n\t\t\t\t<input class=\"uni-input\" type=\"number\" v-model=\"iptLevelSumValue\" maxlength=\"2\" placeholder=\"请输入总关卡,最大为99关\" />\n\t\t\t</view>\n\t\t\t<view class=\"uni-form-item uni-column\">\n\t\t\t\t<view class=\"title\">棋盘大小</view>\n\t\t\t\t<input class=\"uni-input\" type=\"number\" v-model=\"iptWidthValue\" maxlength=\"2\" placeholder=\"请输入棋盘大小,输入2表示生产2行2列的棋盘\" />\n\t\t\t</view>\n\t\t\t<view class=\"uni-form-item uni-column\">\n\t\t\t\t<view class=\"title\">游戏时间，单位为秒</view>\n\t\t\t\t<input class=\"uni-input\" type=\"number\" v-model=\"iptSecondValue\"  maxlength=\"4\" placeholder=\"游戏时间不能小于5秒或者大于7200秒\" />\n\t\t\t</view>\n\t\t\t<view class=\"customNumBtnCls\">\n\t\t\t\t<button class=\"mini-btn\" type=\"primary\" size=\"mini\" @click=\"onNumFinish\">确 定</button>\n\t\t\t</view>\t\n\t\t</view>\n\t</scroll-view> \n</template>\n\n<script setup>\n\timport { ref, computed, onMounted, onBeforeUnmount } from 'vue';\n\timport { showHint } from \"@/common/utils/common.js\";\n\t\n\tconst emit = defineEmits(['customNumFinish']);  \n\t\n\tconst iptBeginNumValue = ref(\"1\");\n\tconst iptBeginBlockValue = ref(\"1\");\n\tconst iptLevelSumValue = ref(\"2\");\n\tconst iptWidthValue = ref(\"2\");\n\tconst iptSecondValue = ref(\"60\");\n\t\n\tconst showNum = ref(null);\n\tfunction setnumv(id){\n\t\tif(id == \"a2\" || id == \"a4\"){\n\t\t\tshowNum.value = true;\n\t\t}else{\n\t\t\tshowNum.value = false;\n\t\t}\n\t}\n\tfunction onNumFinish(){\n\t\tif(showNum.value){\n\t\t\tif(!iptBeginNumValue.value){\n\t\t\t\tshowHint(\"请输入请输入首关的数字\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(iptBeginNumValue.value <= 0){\n\t\t\t\tshowHint(\"首关的数字不能小于0\");\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif(!iptBeginBlockValue.value){\n\t\t\tshowHint(\"请输入首关出现的块数\");\n\t\t\treturn;\n\t\t}\n\t\tif(iptBeginBlockValue.value <= 0){\n\t\t\tshowHint(\"首关出现的块数不能小于0\");\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(!iptLevelSumValue.value){\n\t\t\tshowHint(\"请输入总关卡\");\n\t\t\treturn;\n\t\t}\n\t\tif(iptLevelSumValue.value <= 0){\n\t\t\tshowHint(\"总关卡不能小于0\");\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(!iptWidthValue.value){\n\t\t\tshowHint(\"请输入棋盘大小\");\n\t\t\treturn;\n\t\t}\n\t\tif(iptWidthValue.value < 2){\n\t\t\tshowHint(\"棋盘不能小于2\");\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tconsole.log(\"iptLevelSumValue.value->\",iptLevelSumValue.value);\n\t\tconsole.log(\"iptBeginBlockValue.value->\",iptBeginBlockValue.value);\n\t\t\n\t\t//最后一关会出现的块的个数 这个个数不能大于棋盘的块数\n\t\tlet lastLevelBlockNum = parseInt(iptLevelSumValue.value) + parseInt(iptBeginBlockValue.value) - 1;\n\t\tlet sumBlockNum = iptWidthValue.value * iptWidthValue.value;\n\t\tif(lastLevelBlockNum > sumBlockNum){\n\t\t\tshowHint(\"棋盘大小为\" + iptWidthValue.value  + \"✖️\" + iptWidthValue.value + \",无法装下最后一关的块数\" + lastLevelBlockNum + \"，请重新调整\");\n\t\t\treturn;\n\t\t} \n\t\t \n\t\t \n\t   let fontSize = \"30rpx\";\n\t   if(sumBlockNum <= 10){\n\t\t   fontSize = \"100rpx\";\n\t   }else if(sumBlockNum <= 16){\n\t\t   fontSize = \"80rpx\";\n\t   }else if(sumBlockNum <= 25){\n\t\t   fontSize = \"70rpx\";\n\t   }else if(sumBlockNum <= 36){\n\t\t   fontSize = \"60rpx\";\n\t   }else if(sumBlockNum <= 49){\n\t\t   fontSize = \"50rpx\";\n\t   }else if(sumBlockNum <= 64){\n\t\t   fontSize = \"40rpx\";\n\t   } \n\t   \n\t   let note = \"\";\n\t   if(showNum.value){\n\t\t   note = \"首关的数字:\" + iptBeginNumValue.value + \",\";\n\t   }\n\t   note += \"首关的块数:\" + iptBeginBlockValue.value + \",总关卡:\"+ iptLevelSumValue.value +\",棋盘大小:\" + iptWidthValue.value;\n\t   \n\t   var myCustom = {\n\t\t   id : new Date().getTime(),\n\t\t   \"levelHideTime\" : \"500\",\n\t\t   \"beginBlock\" : iptBeginBlockValue.value,\n\t\t   beginNum : iptBeginNumValue.value,\n\t\t   levelSumNum : iptLevelSumValue.value,\n\t\t   typeKey:\"myCustom\",\n\t\t   \"itemCls\":\"v_item\",\n\t\t   \"fontSize\":fontSize,\n\t\t   \"gameTime\":iptSecondValue.value,\n\t\t   \"colNum\":iptWidthValue.value,\n\t\t   \"numSum\":sumBlockNum,\n\t\t   \"title\":\"自定义 \" + iptWidthValue.value+\" ✖️ \" + iptWidthValue.value,\n\t\t   \"note\": note\n\t   }\n\t\tconsole.log(\"完成-->\");\n\t    emit(\"customNumFinish\",myCustom);\n\t} \n\t\n\t// 暴露方法，方便父组件调用\n\tdefineExpose({ setnumv });\n</script>\n\n<style  lang=\"scss\" scoped>\n\t\t.customMumPopup{\n\t\t\tbackground: #fff;\n\t\t\t// padding: 130rpx;\n\t\t\tborder-radius: 30rpx 30rpx 30rpx 30rpx;\n\t\t\twidth: 80vw;\n\t\t\tmax-height: 60vh;\n\t\t\toverflow: hidden; \n\t\t\tfont-size: 30rpx; \n\t\t}\n\t\t.uni-common-mt{\n\t\t\tmargin: 30rpx;\n\t\t\tbackground-color: #fff;\n\t\t}\n\t\tinput{\n\t\t\tpadding: 20rpx 5rpx;\n\t\t\t  font-size: 16px;\n\t\t\t  line-height: 1.5;\n\t\t\t  color: #333;\n\t\t\t  background-color: #fff;\n\t\t\t  border: 1px solid #ddd;\n\t\t\t  border-radius: 6px;\n\t\t\t  transition: all 0.3s ease;\n\t\t\t  // box-sizing: border-box;\n\t\t\t  // outline: none;\n\t\t\tmargin-bottom: 30rpx;\n\t\t\tmargin-top: 10rpx;\n\t\t}\n\t\t.customNumBtnCls{\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: center;  /* 水平居中 */\n\t\t\talign-items: center;     /* 垂直居中 */\n\t\t\t// background-color: #18a058;\n\t\t}\n</style>","import Component from '/Users/yxy/work/前端/uniapp/my-preschool/components/custom-set-memory/custom-set-memory.vue'\nwx.createComponent(Component)"],"names":["ref","showHint","uni"],"mappings":"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"}